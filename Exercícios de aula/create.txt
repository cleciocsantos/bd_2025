PRAGMA foreign_keys = ON;

DROP TABLE IF EXISTS aluno;

CREATE TABLE IF NOT EXISTS aluno (
  id_aluno integer primary key,
  matricula text UNIQUE,
  nome text NOT NULL,
  data_nasc text NOT NULL,
  serie INTEGER,
  media REAL,
  id_turma integer,
  FOREIGN KEY (id_turma)
  references turma(id_turma)
  ON DELETE SET NULL
);

INSERT INTO aluno (matricula, nome, data_nasc, serie)
VALUES ('m01110', 'Mois√©s','2025-09-08',3),
('m01112', 'Arthur','2025-09-08',2),
('m01113', 'Alexandra','2025-09-08',2),
('m01114', 'Daniel','2025-09-08',2);

UPDATE aluno
SET media = 8
WHERE serie < 3;

DELETE FROM aluno
WHERE id_aluno = 2;

DROP TABLE IF EXISTS turma;

CREATE TABLE turma (
 id_turma integer primary key,
 sigla text NOT NULL,
 turno text,
 modalidade text
);

INSERT INTO turma (sigla, turno, modalidade)
values ('DS202', 'Vespertino', 'Integrado'), 
('DS302', 'Vespertino', 'Integrado');

UPDATE aluno
SET id_turma = 1
WHERE serie = 2;

UPDATE aluno
SET id_turma = 2
WHERE serie = 3;



  
